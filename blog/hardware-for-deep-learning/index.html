<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>딥러닝용 서버 설치기 | Dreamgonfly&#39;s blog</title>

  <meta charset="UTF-8">
  <meta name="language" content="en">
  <meta name="description" content="">
  <meta name="keywords" content="hardward">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  
  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="딥러닝용 서버 설치기" />
  <meta name="twitter:description" content=""
  />
  <meta name="twitter:site" content="@https://twitter.com/dreamgonfly" />
  <meta name="twitter:creator" content="@https://twitter.com/dreamgonfly" />
  

  <link rel="shortcut icon" type="image/png" href="/favicon.ico" />

  
  
    
 
  
  
  
  
  
  
    
    <link rel="stylesheet" href="/css/post.min.3b28d14676e4769849164baf362f2b0aa069ab25702fef98f0c4227cb68d74cd.css" integrity="sha256-OyjRRnbkdphJFkuvNi8rCqBpqyVwL&#43;&#43;Y8MQifLaNdM0="/>
  
    
    <link rel="stylesheet" href="/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" integrity="sha256-47DEQpj8HBSa&#43;/TImW&#43;5JCeuQeRkm5NMpJWZG3hSuFU="/>
  
  
   
   
    

<script type="application/ld+json">
  
    {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/dreamgonfly.github.io\/"
      },
      "articleSection" : "blog",
      "name" : "딥러닝용 서버 설치기",
      "headline" : "딥러닝용 서버 설치기",
      "description" : "",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2017",
      "datePublished": "2017-12-17 18:10:00 \u002b0000 UTC",
      "dateModified" : "2017-12-17 18:10:00 \u002b0000 UTC",
      "url" : "https:\/\/dreamgonfly.github.io\/blog\/hardware-for-deep-learning\/",
      "wordCount" : "1250",
      "keywords" : ["hardward", "Blog"]
    }
  
  </script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-91026007-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</head>

<body>
  <div class="burger__container">
  <div class="burger" aria-controls="navigation" aria-label="Menu">
    <div class="burger__meat burger__meat--1"></div>
    <div class="burger__meat burger__meat--2"></div>
    <div class="burger__meat burger__meat--3"></div>
  </div>
</div>
 

  <nav class="nav" role="navigation">
  <ul class="nav__list">
    
    
      <li>
        <a  href="/">about</a>
      </li>
    
      <li>
        <a  class="active"
         href="/blog">blog</a>
      </li>
    
  </ul>
</nav>


  <main>
    
    

    <div class="flex-wrapper">
      <div class="post__container">
        <div class="post">
          <header class="post__header">
            <h1 id="post__title">딥러닝용 서버 설치기</h1>
            <time datetime="2017-12-17 18:10:00 &#43;0000 UTC" class="post__date"
            >Dec 17 2017</time>
          </header>
          <article class="post__content">
              
<p>어제 딥러닝용 1080 Ti GPU 서버의 개발 환경 세팅을 마쳤습니다. 이 글에서는 서버 구매부터 Ubuntu 설치, NVIDIA driver, CUDA 및 cuDNN 설치, 그리고 Tensorflow와 PyTorch 설치까지 제가 개발 환경을 세팅한 방법을 정리했습니다.</p>
<h2 id="하드웨어-구성">하드웨어 구성<a class="anchor" href="#하드웨어-구성">#</a></h2>
<p>참고를 위해 제가 구성한 서버 하드웨어도 보여드리겠습니다.</p>
<p>괄호 안의 가격은 실제 구매한 가격이 아니라 참고를 위해 적어놓은 현금 최저가입니다.</p>
<ul>
<li>CPU : 인텔 코어X-시리즈 i7-6850K (브로드웰-E) (587,870원)</li>
<li>메인보드 : ASUS X99-A II STCOM (432,490원)</li>
<li>메모리 : 삼성전자 DDR4 16G PC4-19200 X 4 (185,850원)</li>
<li>그래픽카드 : GIGABYTE 지포스 GTX1080 Ti AORUS D5X 11GB (1,061,700원)</li>
<li>하드디스크 : WD 4TB BLUE WD40EZRZ (SATA3/5400/64M)  (135,450원)</li>
<li>케이스 : BRAVOTEC 스텔스 TX 블랙 파노라마 윈도우 (58,000원)</li>
<li>파워 : 써멀테이크 터프파워 그랜드 RGB 850W 골드 풀 모듈러 (177,450원)</li>
<li>쿨러/튜닝 : CORSAIR HYDRO SERIES H80i v2  (148,540원)</li>
<li>외장HDD : Toshiba CANVIO BASIC 2 1TB  (69,830원)</li>
<li>조립비 : 컴퓨터 프리미엄 조립 + 1년 전국 무상 방문출장AS (1대분) (35,000원)</li>
</ul>
<p>총 상품 금액 : 3,604,000원 (배송비 9,000원 제외)</p>
<p>가격 비교는 다나와(<a href="http://www.danawa.com">http://www.danawa.com</a>) &gt; <strong>온라인 견적</strong>을 이용했습니다. 다나와에서 견적을 만든 후 <strong>호환성 체크</strong>를 한 뒤 <strong>구매신청 등록</strong>을 클릭하면 구매를 진행할 수 있습니다.</p>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8FUBADFF/screenshot.png?pub_secret=4f69dcc170" alt="다나와(www.danawa.com)"></p>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8F6LG064/danawa.png?pub_secret=3ac2f607cb" alt="다나와 호환성 체크와 구매신청"></p>
<p>주문을 완료한 뒤 배송이 오면 이제 개발 환경을 세팅할 차례입니다.</p>
<h2 id="ubuntu-설치하기">Ubuntu 설치하기<a class="anchor" href="#ubuntu-설치하기">#</a></h2>
<p>Ubuntu 14.04를 설치합니다. 최신 LTS인 16.04는 GTX1080 Ti GPU가 달린 서버에서 바로 부팅 시 검은 화면만 뜨는 문제가 있습니다. 설정을 바꿔 이 문제를 우회할 수는 있지만 설치 과정에서 복잡성을 최소화하기 위해 14.04를 설치하는 방법을 택했습니다. 14.04는 언제든지 16.04로 업그레이드할 수 있습니다.</p>
<h3 id="ubuntu-다운받기">Ubuntu 다운받기<a class="anchor" href="#ubuntu-다운받기">#</a></h3>
<p>Ubuntu 14.04로 검색한 뒤 나오는 페이지(<a href="http://releases.ubuntu.com/14.04/">http://releases.ubuntu.com/14.04/</a>)에서 <a href="http://releases.ubuntu.com/14.04/ubuntu-14.04.5-desktop-amd64.iso">64-bit PC (AMD64) desktop image</a>를 다운받습니다.</p>
<h3 id="부팅-디스크-만들기">부팅 디스크 만들기<a class="anchor" href="#부팅-디스크-만들기">#</a></h3>
<p>USB 하나를 부팅 디스크로 만들어야 합니다.</p>
<blockquote>
<p>다음 과정은 Mac 기준이며 윈도우의 경우 다른 방식이 필요합니다.</p>
</blockquote>
<p>먼저, Disk Utility를 이용해서 USB를 포맷합니다.</p>
<ul>
<li><strong>Applications</strong> &gt; <strong>Disk Utility</strong>를 실행합니다.</li>
<li>USB를 선택한 뒤 <strong>Erase</strong>를 클릭합니다.</li>
<li>Format은 **MS-DOS (FAT)**으로 지정하고 Scheme은 디폴트 상태로 둔 뒤 <strong>Erase</strong>를 눌러 포맷을 진행합니다.</li>
</ul>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8FR4GM0V/screenshot.png?pub_secret=d1d065ce2b" alt="Disk Utility에서 USB 포맷하기"></p>
<ul>
<li>UNetbootin(<a href="https://unetbootin.github.io/">https://unetbootin.github.io/</a>)를 설치합니다.</li>
<li>설치한 UNetbootin에 다운받은 Ubuntu 14.04 파일(.iso)을 넣고 USB를 지정해주면 부팅 디스크를 만들어줍니다.</li>
</ul>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8GGX7F0W/screenshot.png?pub_secret=32447bd174" alt="UNetbootin으로 부팅 디스크 만들기"></p>
<p>이제 부팅 디스크가 만들어졌습니다. 이 USB를 서버에 꽂은 뒤 BIOS에서 부팅을 할 때 <strong>Boot Menu</strong>에서 USB에 해당하는 항목을 클릭한 뒤 <strong>Install Ubuntu</strong>를 선택한 뒤 나오는 안내에 따라 설정을 입력하면 Ubuntu 설치가 완료됩니다.</p>
<h3 id="트러블-슈팅">트러블 슈팅<a class="anchor" href="#트러블-슈팅">#</a></h3>
<p>서버의 전원을 켰을 때 <code>CPU Fan speed error detected</code>라는 문구가 계속해서 떴습니다. 이는 제가 수냉식 쿨러를 사용했고 ASUS 메인보드에서 이슈가 있었기 때문이었습니다. BIOS 상에서 Fan 설정을 바꾸어서 해결했습니다. (참고 : <a href="http://rgy0409.tistory.com/1165">아수스 CPU Fan speed errer detected 해결하기</a>)</p>
<h2 id="nvidia-driver-설치하기">NVIDIA driver 설치하기<a class="anchor" href="#nvidia-driver-설치하기">#</a></h2>
<p>Ubuntu에서 NVIDIA driver를 설치하는 가장 간단하고 권장되는 방법은 운영체제가 제공하는 설정 메뉴에서 GUI 그래픽 드라이버 설치 방법를 따르는 것입니다.</p>
<ul>
<li>Ubuntu에서 <strong>System Settings</strong> &gt; <strong>Software &amp; Updates</strong> &gt; <strong>Additional Drivers</strong>를 클릭합니다.</li>
<li>잠시 기다린 뒤 표시되는 선택지 중에 <strong>using NVIDIA binary driver</strong>를 선택합니다.</li>
</ul>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8GU1GBQF/driver.png?pub_secret=a6137dc6e3" alt="System Settings에서 NVIDIA driver 다운로드 하기"></p>
<h3 id="설치-확인하기">설치 확인하기<a class="anchor" href="#설치-확인하기">#</a></h3>
<p>다음 명령어를 터미널 창(단축키 : ctrl + alt + t)에서 입력합니다. 이 때 GPU 정보가 올바르게 표시되면 설치가 정상적으로 완료된 것입니다. 첫번째 명령어는 텍스트로, 두번째 명령어는 그래픽으로 GPU 정보를 표시합니다.</p>
<p><code>nvidia-smi</code></p>
<p><code>nvidia-settings</code></p>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8F6NLDEC/smi.png?pub_secret=7ecd36a66c" alt="driver 설치 후 nvidia-smi가 정상적으로 표시된 화면"></p>
<h2 id="참고-자료">참고 자료<a class="anchor" href="#참고-자료">#</a></h2>
<p>CLI를 이용해 NVIDIA driver를 설치하고 싶다면 다음 자료를 참고합니다. 다만 두번째 링크에서도 밝히고 있듯이 이는 권장되는 방식은 아닙니다.</p>
<ul>
<li><a href="http://pythonkim.tistory.com/48">[우분투] nvidia 드라이버 설치</a></li>
<li><a href="https://askubuntu.com/questions/481414/install-nvidia-driver-instead-of-nouveau">Install Nvidia driver instead of nouveau</a></li>
</ul>
<h2 id="cuda-설치하기">CUDA 설치하기<a class="anchor" href="#cuda-설치하기">#</a></h2>
<p>현재 CUDA 최신 버전은 9.1이지만 TensorFlow는 CUDA 8.0 설치를 요구하고 있습니다. 따라서 여기에서도 CUDA 8.0을 설치하겠습니다.</p>
<ul>
<li>CUDA 8.0 다운로드 페이지 (<a href="https://developer.nvidia.com/cuda-80-ga2-download-archive">https://developer.nvidia.com/cuda-80-ga2-download-archive</a>)에 들어갑니다.</li>
<li>**Linux &gt; x86_64 &gt; Ubuntu &gt; 14.04 &gt; deb (local)**을 선택하고 <a href="https://developer.nvidia.com/compute/cuda/8.0/Prod2/local_installers/cuda-repo-ubuntu1404-8-0-local-ga2_8.0.61-1_amd64-deb">다운로드</a>합니다.</li>
<li>다운로드 페이지에서 안내되는 것처럼 다음 명령어를 입력합니다.</li>
</ul>
<pre><code class="language-bash">sudo dpkg -i cuda-repo-ubuntu1404-8-0-local-ga2_8.0.61-1_amd64.deb
sudo apt-get update
sudo apt-get install cuda
sudo reboot
</code></pre>
<ul>
<li>bashrc 파일을 열고 맨 아래에 다음 환경변수를 추가합니다.</li>
</ul>
<pre><code class="language-shell">gedit ~/.bashrc
</code></pre>
<pre><code class="language-shell">export CUDA_HOME=/usr/local/cuda-8.0
export PATH=/usr/local/cuda-8.0/bin${PATH:+:${PATH}}
export LD_LIBRARY_PATH=/usr/local/cuda-8.0/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}
</code></pre>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8F5HGB3J/cuda.png?pub_secret=88515d4aa2" alt="CUDA 다운로드 페이지"></p>
<h3 id="참고-자료-1">참고 자료<a class="anchor" href="#참고-자료-1">#</a></h3>
<ul>
<li><a href="http://haanjack.github.io/cuda/2016-02-29-cuda-linux/">Ubuntu에 CUDA 설치</a></li>
<li><a href="https://seojmediview.com/2017/08/09/ubuntu-16-04-lts%ec%97%90-tensorflow-gpu%eb%b2%84%ec%a0%84-%ec%84%a4%ec%b9%98%ed%95%98%ea%b8%b0/">Ubuntu 16.04 LTS에 tensorflow gpu버전 설치하기</a></li>
</ul>
<h2 id="cudnn-설치하기">cuDNN 설치하기<a class="anchor" href="#cudnn-설치하기">#</a></h2>
<p>TensorFlow가 cuDNN 6.0을 요구하므로 최신 버전인 7.0이 아닌 6.0 버전을 설치해보겠습니다.</p>
<ul>
<li>cuDNN 다운로드 페이지(<a href="https://developer.nvidia.com/cudnn">https://developer.nvidia.com/cudnn</a>)에 들어갑니다.</li>
<li><strong>Download</strong> 버튼을 클릭하면 회원 가입을 하라는 문구가 뜹니다. NVIDIA 회원 가입을 진행합니다.</li>
<li>로그인 후 다시 <strong>Download</strong> 버튼을 클릭하고 몇가지 질문에 답한 후 이용 약관에 동의하면 다운로드 가능한 버전들을 볼 수 있습니다.</li>
<li>이 중에서 <strong>Download cuDNN v6.0 (April 27, 2017), for CUDA 8.0</strong> 를 클릭하면 다운로드 리스트가 뜹니다.</li>
<li>Linux용 버전인 <a href="https://developer.nvidia.com/compute/machine-learning/cudnn/secure/v6/prod/8.0_20170307/cudnn-8.0-linux-x64-v6.0-tgz">cuDNN v6.0 Library for Linux</a> 링크를 클릭하면 다운로드가 진행됩니다.</li>
</ul>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8FQY896W/cdnn-annotated.png?pub_secret=f996fb45cc" alt="cuDNN 다운로드 페이지"></p>
<ul>
<li>다음 명령어를 입력해서 다운받은 cuDNN 파일의 압축을 풀고 cuda 라이브러리에 복사합니다.</li>
</ul>
<pre><code class="language-shell">cd Downloads/

tar xvzf cudnn-8.0-linux-x64-v5.1.tgz
sudo cp cuda/include/cudnn.h /usr/local/cuda-8.0/include
sudo cp cuda/lib64/libcudnn* /usr/local/cuda-8.0/lib64
sudo chmod a+r /usr/local/cuda-8.0/include/cudnn.h /usr/local/cuda-8.0/lib64/libcudnn*
</code></pre>
<h3 id="참고-자료-2">참고 자료<a class="anchor" href="#참고-자료-2">#</a></h3>
<ul>
<li><a href="https://seojmediview.com/2017/08/09/ubuntu-16-04-lts%ec%97%90-tensorflow-gpu%eb%b2%84%ec%a0%84-%ec%84%a4%ec%b9%98%ed%95%98%ea%b8%b0/">Ubuntu 16.04 LTS에 tensorflow gpu버전 설치하기</a></li>
</ul>
<h2 id="anaconda-설치하기">Anaconda 설치하기<a class="anchor" href="#anaconda-설치하기">#</a></h2>
<p>Anaconda는 Python과 여러 라이브러리들을 설치하는 가장 편리하고 빠른 방법입니다. 현재 Anaconda를 다운받으면 Python 3.6으로 설치되지만, <a href="https://github.com/tensorflow/tensorflow/issues/14182">TensorFlow 1.4 GPU 버전이 아직 Python 3.6을 지원하지 않기 때문에</a> Python 3.5 환경으로 맞춰줄 필요가 있습니다. 여기에서는 Python 3.5를 지원하는 Anaconda의 이전 버전을 설치하겠습니다.</p>
<p>또한, 설치된 Python을 모든 사용자가 사용할 수 있게 하기 위해 아래 과정부터 CLI 명령어는 root 계정에서 실행하였습니다.</p>
<pre><code class="language-shell">sudo su
</code></pre>
<ul>
<li>Anaconda 아카이브 페이지(<a href="https://repo.continuum.io/archive/index.html">https://repo.continuum.io/archive/index.html</a>)에 접속합니다.</li>
<li><a href="https://repo.continuum.io/archive/Anaconda3-4.2.0-Linux-x86_64.sh">Anaconda3-4.2.0-Linux-x86_64.sh</a> 버전을 선택하여 다운로드합니다. Anaconda3 4.2 버전은 Python 3.5가 디폴트인 버전입니다.</li>
<li>다운로드 받은 파일이 담긴 폴더로 이동하여 bash로 해당 파일을 실행합니다.</li>
</ul>
<pre><code class="language-shell">bash Anaconda3-4.2.0-Linux-x86_64.sh
</code></pre>
<ul>
<li>(Optional) 모든 사용자가 설치된 Python에 접근할 수 있게 하기 위해 Anaconda 설치 중 설치 경로 설정에서 <code>/opt/conda</code>를 입력하였습니다. 이 과정을 생략하면 사용자의 home 디렉토리 아래에 Anaconda가 설치됩니다.</li>
<li>PATH를 추가하겠느냐는 질문에 yes를 입력합니다.</li>
</ul>
<h3 id="설치-확인하기-1">설치 확인하기<a class="anchor" href="#설치-확인하기-1">#</a></h3>
<p><code>python</code>을 실행했을 때 Anaconda 4.2의 Python 3.5가 실행되면 정상적으로 설치된 것입니다.</p>
<pre><code class="language-shell">$ python

Python 3.5.2 |Anaconda 4.2.0 (64-bit)| (default, Jul  2 2016, 17:53:06) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
</code></pre>
<h2 id="tensorflow-설치하기">Tensorflow 설치하기<a class="anchor" href="#tensorflow-설치하기">#</a></h2>
<p>이 글을 작성하는 때에 TensorFlow의 최신 버전은 1.4입니다. 최신 버전인 TensorFlow 1.4 버전을 설치해 보겠습니다. TensorFlow에서는 가상 환경 위에 설치를 권장하고 있지만 여기에서는 사용의 편리함을 위해 디폴트 Python 위에 pip으로 바로 설치합니다.</p>
<ul>
<li>다음 명령어로 libcupti-dev 라이브러리를 설치합니다. 이는 TensorFlow <a href="https://www.tensorflow.org/install/install_linux">공식 설치 가이드</a>의 요구사항을 따른 것입니다. CUDA와 cuDNN은 이미 설치했으니 마지막 단계인 libcupti-dev 라이브러리만 남았습니다.</li>
</ul>
<pre><code class="language-shell">sudo apt-get install libcupti-dev
</code></pre>
<ul>
<li>pip으로 TensorFlow GPU 버전을 설치합니다. pip으로 설치하는 가이드는 <a href="https://www.tensorflow.org/install/install_linux#InstallingNativePip">Installinng with native pip</a>에서 찾을 수 있고 설치 URL은 <a href="https://www.tensorflow.org/install/install_linux#the_url_of_the_tensorflow_python_package">URL of the TensorFlow Python package</a>에서 Python 3.5 버전을 선택했습니다.</li>
</ul>
<pre><code class="language-shell">pip install --ignore-installed --upgrade https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.4.0-cp35-cp35m-linux_x86_64.whl
</code></pre>
<h3 id="설치-확인하기-2">설치 확인하기<a class="anchor" href="#설치-확인하기-2">#</a></h3>
<p>Python을 실행한 뒤 TensorFlow를 import하고, Session을 열 때 GPU 정보가 표시되면 TensorFlow GPU 버전이 정상적으로 설치된 것입니다.</p>
<pre><code class="language-python">&gt;&gt;&gt; import tensorflow as tf
&gt;&gt;&gt; tf.Session()
2017-12-17 11:56:09.494588: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.683
pciBusID: 0000:01:00.0
totalMemory: 10.91GiB freeMemory: 10.49GiB
2017-12-17 11:56:09.494619: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)&lt;tensorflow.python.client.session.Session object at 0x7f9c04d43668&gt;
</code></pre>
<h2 id="pytorch-설치하기">PyTorch 설치하기<a class="anchor" href="#pytorch-설치하기">#</a></h2>
<p>PyTorch 설치는 공식 사이트(<a href="http://www.pytorch.org">www.pytorch.org</a>)를 그대로 따르면 됩니다. conda로 Python 3.5, CUDA 8.0 버전을 설치하였습니다.</p>
<pre><code class="language-shell">conda install pytorch torchvision -c pytorch
</code></pre>
<h2 id="네트워크-연결하기">네트워크 연결하기<a class="anchor" href="#네트워크-연결하기">#</a></h2>
<p>이제 서버 개발 환경 세팅은 완료되었으니, 이 서버를 다른 컴퓨터에서도 접속할 수 있게 만들어야 합니다. 이를 위해서 외부 포트를 내부 포트로 연결하는 포트 포워딩을 설정하고, Ubuntu 내에서 SSH를 외부에서 접근 가능하도록 설정합니다.</p>
<blockquote>
<p>다음 과정은 iptime을 사용한다고 가정합니다. 다른 제품을 쓰는 경우 과정이 약간 다를 수 있습니다.</p>
</blockquote>
<h3 id="포트포워딩">포트포워딩<a class="anchor" href="#포트포워딩">#</a></h3>
<ul>
<li><strong>192.168.0.1</strong> 주소로 접속하여 iptime 관리 페이지로 이동합니다. 관리 페이지를 모를 때는 Ubuntu 내 Terminal에서 <code>ifconfig</code>를 입력하여 내부 IP 주소(inet addr)를 알아낸 뒤 마지막 자리를 1로 치환한 주소가 관리 페이지 주소일 가능성이 높습니다.</li>
<li>로그인 후 <strong>관리 도구 &gt; 고급 설정 &gt; NAT/라우터 관리 &gt; 포트포워드 설정</strong>로 이동합니다.</li>
<li>새 규칙을 추가합니다. <strong>규칙 이름</strong>과 <strong>외부 포트</strong>, <strong>내부 포트</strong>, 그리고 <strong>내부 IP주소</strong>를 설정해주면 됩니다.</li>
</ul>
<p><img src="https://files.slack.com/files-pri/T25783BPY-F8FSAKX0U/iptime.png?pub_secret=6b0d0ea838" alt="iptime 포트포워딩 설정"></p>
<h3 id="ssh-외부-접속-설정하기">SSH 외부 접속 설정하기<a class="anchor" href="#ssh-외부-접속-설정하기">#</a></h3>
<p>SSH 설정 방법은 <a href="https://thishosting.rocks/how-to-enable-ssh-on-ubuntu/">How to Enable SSH on Ubuntu</a>를 따랐습니다.</p>
<ul>
<li>OpenSSH를 설치합니다.</li>
</ul>
<pre><code class="language-shell">sudo apt-get install openssh-server -y
</code></pre>
<ul>
<li>다음 명령어로 SSH 설정 파일을 엽니다.</li>
</ul>
<pre><code class="language-shell">sudo nano /etc/ssh/sshd_config
</code></pre>
<ul>
<li>Port 설정을 수정합니다.</li>
</ul>
<p>다음과 같은 라인을</p>
<pre><code class="language-shell"># Port 22
</code></pre>
<p>다음과 같이 변경합니다. 이 때 Port 번호는 포트포워드에서 외부 포트에 연결한 내부 포트 번호와 일치해야 합니다.</p>
<pre><code class="language-shell">Port 1337
</code></pre>
<ul>
<li>SSH를 재시작합니다.</li>
</ul>
<pre><code class="language-shell">sudo service ssh restart
</code></pre>
<h3 id="공인-ip-알아내기">공인 IP 알아내기<a class="anchor" href="#공인-ip-알아내기">#</a></h3>
<p>외부에서 접근하려면 공인 IP(public IP)를 알아야 합니다. 이는 간단하게 구글에서 <code>my ip</code> 등으로 검색해서 나오는 사이트에서 알아낼 수 있습니다.</p>
<h3 id="설정-확인하기">설정 확인하기<a class="anchor" href="#설정-확인하기">#</a></h3>
<p>외부 컴퓨터에서 SSH로 접속에 성공하면 설정이 완료된 것입니다.</p>
<blockquote>
<p>다음 명령어는 Mac이나 Linux에서 바로 실행 가능하지만, 일반적인 Windows에서 동작하지 않습니다.</p>
</blockquote>
<pre><code class="language-shell">ssh &lt;공인 IP&gt; -l &lt;username&gt; -p &lt;포트 번호&gt;
</code></pre>


              
          </article>
          

<ul class="tags__list">
    
    <li class="tag__item">
        <a class="tag__link" href="https://dreamgonfly.github.io/tags/hardware/">hardware</a>
    </li></ul>

 <div class="pagination">
  
    <a class="pagination__item" href="https://dreamgonfly.github.io/blog/lime/">
        <span class="pagination__label">Previous Post</span>
        <span class="pagination__title">머신러닝 모델의 블랙박스 속을 들여다보기 : LIME</span>
    </a>
  

  
    <a class="pagination__item" href="https://dreamgonfly.github.io/blog/pytorch-on-aws-lambda/">
      <span class="pagination__label">Next Post</span>
      <span class="pagination__title" >AWS Lambda로 PyTorch 모델 서빙하기</a>
    </a>
  
</div>

          <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "dreamgonfly-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          <footer class="post__footer">
            


<div class="social-icons">
  
     
    
      <a class="social-icons__link" title="Twitter"
         href="https://twitter.com/dreamgonfly"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://dreamgonfly.github.io/images/social/twitter.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="GitHub"
         href="https://github.com/dreamgonfly"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://dreamgonfly.github.io/images/social/github.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="Email"
         href="mailto:dreamgonfly@gmail.com"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://dreamgonfly.github.io/images/social/email.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="Facebook"
         href="https://facebook.com/dreamgonfly"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://dreamgonfly.github.io/images/social/facebook.svg')"></div>
      </a>
    
  
     
    
  
     
    
  
     
    
      <a class="social-icons__link" title="LinkedIn"
         href="https://www.linkedin.com/in/dreamgonfly"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://dreamgonfly.github.io/images/social/linkedin.svg')"></div>
      </a>
    
  
     
    
     
</div>

            <p>© 2020</p>
          </footer>
          </div>
      </div>
      
      <div class="toc-container">
          
        <nav id="TableOfContents">
  <ul>
    <li><a href="#하드웨어-구성">하드웨어 구성</a></li>
    <li><a href="#ubuntu-설치하기">Ubuntu 설치하기</a>
      <ul>
        <li><a href="#ubuntu-다운받기">Ubuntu 다운받기</a></li>
        <li><a href="#부팅-디스크-만들기">부팅 디스크 만들기</a></li>
        <li><a href="#트러블-슈팅">트러블 슈팅</a></li>
      </ul>
    </li>
    <li><a href="#nvidia-driver-설치하기">NVIDIA driver 설치하기</a>
      <ul>
        <li><a href="#설치-확인하기">설치 확인하기</a></li>
      </ul>
    </li>
    <li><a href="#참고-자료">참고 자료</a></li>
    <li><a href="#cuda-설치하기">CUDA 설치하기</a>
      <ul>
        <li><a href="#참고-자료-1">참고 자료</a></li>
      </ul>
    </li>
    <li><a href="#cudnn-설치하기">cuDNN 설치하기</a>
      <ul>
        <li><a href="#참고-자료-2">참고 자료</a></li>
      </ul>
    </li>
    <li><a href="#anaconda-설치하기">Anaconda 설치하기</a>
      <ul>
        <li><a href="#설치-확인하기-1">설치 확인하기</a></li>
      </ul>
    </li>
    <li><a href="#tensorflow-설치하기">Tensorflow 설치하기</a>
      <ul>
        <li><a href="#설치-확인하기-2">설치 확인하기</a></li>
      </ul>
    </li>
    <li><a href="#pytorch-설치하기">PyTorch 설치하기</a></li>
    <li><a href="#네트워크-연결하기">네트워크 연결하기</a>
      <ul>
        <li><a href="#포트포워딩">포트포워딩</a></li>
        <li><a href="#ssh-외부-접속-설정하기">SSH 외부 접속 설정하기</a></li>
        <li><a href="#공인-ip-알아내기">공인 IP 알아내기</a></li>
        <li><a href="#설정-확인하기">설정 확인하기</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
      
    </div>
    

  </main>

   

  
  <script src="/js/index.min.49e4d8a384357d9b445b87371863419937ede9fa77737522ffb633073aebfa44.js" integrity="sha256-SeTYo4Q1fZtEW4c3GGNBmTft6fp3c3Ui/7YzBzrr&#43;kQ=" crossorigin="anonymous"></script>
  
  
  <script src="https://unpkg.com/prismjs@1.20.0/components/prism-core.min.js"></script>

  
  <script src="https://unpkg.com/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js"
    data-autoloader-path="https://unpkg.com/prismjs@1.20.0/components/"></script>

  
    <script src="/js/table-of-contents.js"></script>
  


</body>

</html>
